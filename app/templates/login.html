{% extends 'layout.html' %}
{% block content %}
  {% if message %}
    <div class="text-red-500 text-sm mb-2">{{ message }}</div>
  {% endif %}

  <h1 class="text-2xl font-semibold mb-4">Login</h1>

  <form method="post" class="max-w-md space-y-4">
    <input type="text" name="username" placeholder="Username" class="w-full border p-2 rounded" required />

    <div class="relative">
      <input type="password" name="password" id="password" placeholder="Password" class="w-full border p-2 rounded pr-10" required />
      <button type="button" onclick="togglePassword()" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-gray-500">
        üëÅ
      </button>
    </div>

    <button class="bg-blue-500 text-white px-4 py-2 rounded w-full">Login</button>
  </form>

  <p class="mt-2 text-sm">
    No account? <a href="{{ url_for('register') }}" class="underline text-blue-500">Register</a>
  </p>
  <p class="mt-1 text-sm">
    <a href="{{ url_for('reset_start') }}" class="underline text-gray-500">Forgot password?</a>
  </p>

  <script>
    function togglePassword() {
      const pwField = document.getElementById("password");
      pwField.type = pwField.type === "password" ? "text" : "password";
    }
  </script>
{% endblock %}
